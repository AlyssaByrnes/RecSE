\subsection{Coq Representation of Recursive Strategy}
Our system contains the following three global variables:
\begin{itemize}
\item A list of symbolic execution trees $\in \trees$ (where $\trees$ is the set of all trees $\tree$) called \textit{tree\_list} that represent the list of trees returned by the recursive strategy.
\item A concrete state $\in \concstates$ to represent the initial system state, called \textit{init\_concrete state}.
\item A set of concrete states $\in \concstates$ to represent all of the system error states, called \textit{error\_states}.
\end{itemize}

We then define the method $ \mathtt{execute\_tree\_list} : \{ \trees \} \rightarrow \{\concstates\}$ , that takes a list of symbolic execution trees and executes them according to the inputs given by the leaves.

Additionally, we define the abstract method, $ \mathtt{get\_input} : \{\syminput\} \times \{\symalphabet\} \rightarrow \{\concstates\}$ which returns a concrete input that does not violate a given symbolic state's path constraint.
This method is bound by the requirement,

\begin{definition}[\emph{get\_input}]
$ \forall$ symbolic inputs $i' \in \syminputs$, tree nodes $n$, and $m = \mathtt{map(\cdot)}$
if $\exists$ a symbolic state $s \in \symstates$  such that
$n$ is a leaf of the tree output by $\symexecution(s, i)$ and 
$\mathtt{pc\_eval} (\mathtt{simplify}(\mathtt{applymap} (n.\pathcondition, m))) = \texttrue$, then
$\mathtt{simplify}(\mathtt{applymap} (i, m)) = \mathtt{get\_input}(i)$.
\end{definition}



We now can formally prove the following lemma, which we will use in our proof:
\begin{lemma} \label{cop}
forall symbolic states $s$, symbolic inputs $i'$, concrete states $c$, and $m = \mathtt{map(\cdot)}$,
if $cs \in \mathtt{concretize\_root}(t)$,
then 
$conc\_ex(cs, \mathtt{get\_input} ($i'$)) \in \mathtt{concretize\_leaf}(t)$,
where $l$ is a leaf of $t$ and $t = $ \symexecution($s, i'$).
\end{lemma}

In order to prove this, we utilize the commutativity property expressed earlier.





Our main correctness theorem that we prove is Theorem \ref{thm:sufficiency}. In other words, given our three property requirements, executing our tree\_list will get us to an error state.
